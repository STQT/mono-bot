# Generated by Django 5.0.1 on 2026-01-08 17:31

import django.core.validators
import django.db.models.deletion
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0030_alter_broadcastmessage_options_alter_gift_options_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='HistoricalAdminContactSettings',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('contact_type', models.CharField(choices=[('telegram', 'Telegram username'), ('phone', 'Telefon raqami'), ('link', 'Havola (URL)')], default='telegram', help_text='Telegram username, telefon raqami yoki havola', max_length=20, verbose_name='Kontakt turi')),
                ('contact_value', models.CharField(help_text="Telegram username (@ belgisisiz), telefon raqami (+998901234567) yoki to'liq havola (https://...)", max_length=255, verbose_name='Kontakt qiymati')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faol')),
                ('created_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yaratilgan')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yangilangan')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Admin kontakt sozlamalari',
                'verbose_name_plural': 'historical Admin kontakt sozlamalari',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalBroadcastMessage',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='Yuborish nomi')),
                ('message_text', models.TextField(verbose_name='Xabar matni')),
                ('user_type_filter', models.CharField(blank=True, choices=[('electrician', 'Elektrik'), ('seller', 'Sotuvchi')], max_length=20, null=True, verbose_name="Foydalanuvchi turi bo'yicha filtr")),
                ('region_filter', models.CharField(blank=True, choices=[('', 'Barcha viloyatlar'), ('tashkent_city', 'Toshkent shahri'), ('tashkent_region', 'Toshkent viloyati'), ('andijan', 'Andijon viloyati'), ('bukhara', 'Buxoro viloyati'), ('jizzakh', 'Jizzax viloyati'), ('kashkadarya', 'Qashqadaryo viloyati'), ('navoi', 'Navoiy viloyati'), ('namangan', 'Namangan viloyati'), ('samarkand', 'Samarqand viloyati'), ('surkhandarya', 'Surxondaryo viloyati'), ('syrdarya', 'Sirdaryo viloyati'), ('fergana', "Farg'ona viloyati"), ('khorezm', 'Xorazm viloyati'), ('karakalpakstan', "Qoraqalpog'iston Respublikasi")], help_text="Tanlangan viloyatdagi foydalanuvchilarga xabar yuborish uchun viloyatni tanlang. Bo'sh qoldirilsa, barcha viloyatlarga yuboriladi.", max_length=50, null=True, verbose_name="Viloyat bo'yicha filtr")),
                ('language_filter', models.CharField(blank=True, choices=[('uz_latin', "O'zbek (Lotin)"), ('ru', 'Русский')], max_length=15, null=True, verbose_name="Til bo'yicha filtr")),
                ('status', models.CharField(choices=[('pending', 'Yuborish kutilmoqda'), ('sending', 'Yuborilmoqda'), ('completed', 'Yakunlandi'), ('failed', 'Xatolik')], default='pending', max_length=20, verbose_name='Holat')),
                ('total_users', models.IntegerField(default=0, verbose_name='Jami foydalanuvchilar')),
                ('sent_count', models.IntegerField(default=0, verbose_name='Yuborildi')),
                ('failed_count', models.IntegerField(default=0, verbose_name='Xatolar')),
                ('created_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yaratilgan')),
                ('started_at', models.DateTimeField(blank=True, null=True, verbose_name='Yuborish boshlangan')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Yakunlangan')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Xabarlar yuborish',
                'verbose_name_plural': 'historical Xabarlar yuborish',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalGift',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('name_uz_latin', models.CharField(max_length=255, verbose_name="Nomi (O'zbek lotin)")),
                ('name_ru', models.CharField(blank=True, max_length=255, verbose_name='Nomi (Ruscha)')),
                ('description_uz_latin', models.TextField(blank=True, verbose_name="Tavsif (O'zbek lotin)")),
                ('description_ru', models.TextField(blank=True, verbose_name='Tavsif (Ruscha)')),
                ('image', models.TextField(max_length=100, verbose_name='Rasm')),
                ('points_cost', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Ballar narxi')),
                ('user_type', models.CharField(blank=True, choices=[('electrician', 'Elektrik (E)'), ('seller', 'Sotuvchi (D)')], help_text="Agar bo'sh qoldirilsa, barcha foydalanuvchilar uchun ko'rsatiladi", max_length=20, null=True, verbose_name='Foydalanuvchi turi')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faol')),
                ('created_at', models.DateTimeField(blank=True, editable=False)),
                ('updated_at', models.DateTimeField(blank=True, editable=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Sovg‘a',
                'verbose_name_plural': 'historical Sovg‘alar ro‘yxati',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalGiftRedemption',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('status', models.CharField(choices=[('pending', "So'rov qabul qilindi"), ('approved', 'Mahsulot tayyorlash bosqichida'), ('sent', 'Mahsulot yetkazib berish xizmatiga topshirildi'), ('completed', 'Mahsulotni qabul qilganingizni tasdiqlang'), ('rejected', "So'rov bekor qilindi (administrator bilan bog'laning)"), ('not_received', "Sovg'a berilmagan (foydalanuvchi olmadi)")], default='pending', max_length=20, verbose_name='Holat')),
                ('requested_at', models.DateTimeField(blank=True, editable=False, verbose_name="So'ralgan vaqt")),
                ('processed_at', models.DateTimeField(blank=True, null=True, verbose_name='Qayta ishlangan vaqt')),
                ('admin_notes', models.TextField(blank=True, verbose_name='Administrator eslatmalari')),
                ('user_confirmed', models.BooleanField(default=False, verbose_name='Foydalanuvchi tomonidan tasdiqlandi')),
                ('user_comment', models.TextField(blank=True, verbose_name='Foydalanuvchi sharhi')),
                ('confirmed_at', models.DateTimeField(blank=True, null=True, verbose_name='Tasdiqlangan vaqt')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('gift', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='core.gift', verbose_name="Sovg'a")),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='core.telegramuser', verbose_name='Foydalanuvchi')),
            ],
            options={
                'verbose_name': 'historical Sovg‘a olish uchun arizalar',
                'verbose_name_plural': 'historical Sovg‘a olish uchun arizalar',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPrivacyPolicy',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('pdf_uz_latin', models.TextField(blank=True, help_text='PDF файл политики конфиденциальности для узбекского языка (латиница)', max_length=100, null=True, verbose_name="PDF файл (O'zbek lotin)")),
                ('pdf_ru', models.TextField(blank=True, help_text='PDF файл политики конфиденциальности для русского языка', max_length=100, null=True, verbose_name='PDF файл (Ruscha)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Faol')),
                ('created_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yaratilgan')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yangilangan')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Maxfiylik siyosati',
                'verbose_name_plural': 'historical Maxfiylik siyosati',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPromotion',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='Sarlavha')),
                ('image', models.TextField(max_length=100, verbose_name='Rasm')),
                ('date', models.DateField(verbose_name='Sana')),
                ('is_active', models.BooleanField(db_index=True, default=True, verbose_name='Faol')),
                ('order', models.IntegerField(default=0, help_text="Kichikroq raqam yuqorida ko'rsatiladi", verbose_name='Tartib raqami')),
                ('created_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yaratilgan')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yangilangan')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Aksiya',
                'verbose_name_plural': 'historical Aksiyalar',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalQRCode',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('code', models.CharField(db_index=True, max_length=255)),
                ('code_type', models.CharField(choices=[('electrician', 'Elektrik (E)'), ('seller', 'Sotuvchi (D)')], max_length=20)),
                ('hash_code', models.CharField(db_index=True, max_length=32)),
                ('serial_number', models.CharField(db_index=True, max_length=50, verbose_name='Seriya raqami')),
                ('image_path', models.CharField(blank=True, max_length=500, null=True)),
                ('points', models.IntegerField(validators=[django.core.validators.MinValueValidator(0)])),
                ('generated_at', models.DateTimeField(blank=True, editable=False)),
                ('scanned_at', models.DateTimeField(blank=True, null=True)),
                ('is_scanned', models.BooleanField(default=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('scanned_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='core.telegramuser')),
            ],
            options={
                'verbose_name': 'historical Promo-kod tarixi',
                'verbose_name_plural': 'historical Promo-kodlar tarixi',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalQRCodeGeneration',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('code_type', models.CharField(choices=[('electrician', 'Elektrik (E)'), ('seller', 'Sotuvchi (D)')], max_length=20, verbose_name='QR-kod turi')),
                ('quantity', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Miqdori')),
                ('points', models.IntegerField(validators=[django.core.validators.MinValueValidator(0)], verbose_name='Ballar')),
                ('status', models.CharField(choices=[('pending', 'Kutilmoqda'), ('processing', 'Jarayonda'), ('completed', 'Yakunlandi'), ('failed', 'Xatolik')], default='pending', max_length=20, verbose_name='Holat')),
                ('zip_file', models.TextField(blank=True, max_length=100, null=True, verbose_name='ZIP fayl')),
                ('error_message', models.TextField(blank=True, verbose_name='Xatolik xabari')),
                ('created_at', models.DateTimeField(blank=True, editable=False, verbose_name='Yaratilgan')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Yakunlangan')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan foydalanuvchi')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Promo-kod yaratilish tarixi',
                'verbose_name_plural': 'historical Promo-kodlar yaratish tarixi',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalTelegramUser',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('telegram_id', models.BigIntegerField(db_index=True)),
                ('username', models.CharField(blank=True, max_length=255, null=True)),
                ('first_name', models.CharField(blank=True, max_length=255, null=True)),
                ('last_name', models.CharField(blank=True, max_length=255, null=True)),
                ('phone_number', models.CharField(blank=True, max_length=20, null=True)),
                ('latitude', models.FloatField(blank=True, null=True)),
                ('longitude', models.FloatField(blank=True, null=True)),
                ('region', models.CharField(blank=True, db_index=True, max_length=50, null=True, verbose_name='Viloyat')),
                ('district', models.CharField(blank=True, db_index=True, max_length=100, null=True, verbose_name='Tuman')),
                ('user_type', models.CharField(blank=True, choices=[('electrician', 'Elektrik'), ('seller', 'Sotuvchi')], max_length=20, null=True)),
                ('points', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('is_active', models.BooleanField(db_index=True, default=True, verbose_name='Faol')),
                ('language', models.CharField(choices=[('uz_latin', "O'zbek (Lotin)"), ('ru', 'Русский')], default='uz_latin', max_length=15, verbose_name='Til')),
                ('privacy_accepted', models.BooleanField(default=False, verbose_name='Maxfiylik siyosatiga rozilik')),
                ('last_message_sent_at', models.DateTimeField(blank=True, null=True, verbose_name='Oxirgi xabar yuborilgan vaqt')),
                ('blocked_bot_at', models.DateTimeField(blank=True, null=True, verbose_name='Botni bloklagan vaqt')),
                ('created_at', models.DateTimeField(blank=True, editable=False)),
                ('updated_at', models.DateTimeField(blank=True, editable=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Telegram foydalanuvchisi',
                'verbose_name_plural': 'historical Telegram foydalanuvchilari',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
    ]
